{"ast":null,"code":"import{useEffect,useRef,useState,useCallback}from'react';import{API_BASE_URL}from'../utils/constants';class ToshmiWebSocket{constructor(url,onActivityData,onConnectionChange){this.url=url;this.ws=null;this.reconnectAttempts=0;this.maxReconnectAttempts=10;this.reconnectInterval=1000;this.maxReconnectInterval=30000;this.pingInterval=null;this.pongTimeout=null;this.isConnecting=false;this.onActivityData=onActivityData;this.onConnectionChange=onConnectionChange;this.connect();}connect(){var _this$onConnectionCha;if(this.isConnecting)return;this.isConnecting=true;console.log('ðŸ”Œ Connecting to WebSocket...');(_this$onConnectionCha=this.onConnectionChange)===null||_this$onConnectionCha===void 0?void 0:_this$onConnectionCha.call(this,'CONNECTING');this.ws=new WebSocket(this.url);this.ws.onopen=()=>{var _this$onConnectionCha2;console.log('âœ… WebSocket connected');this.isConnecting=false;this.reconnectAttempts=0;this.reconnectInterval=1000;(_this$onConnectionCha2=this.onConnectionChange)===null||_this$onConnectionCha2===void 0?void 0:_this$onConnectionCha2.call(this,'OPEN');this.startPingPong();};this.ws.onmessage=event=>{try{const data=JSON.parse(event.data);if(data.type==='pong'){this.handlePong(data);return;}this.handleActivityData(data);}catch(error){console.error('âŒ Error parsing WebSocket message:',error);}};this.ws.onclose=()=>{var _this$onConnectionCha3;console.log('âŒ WebSocket disconnected');this.isConnecting=false;(_this$onConnectionCha3=this.onConnectionChange)===null||_this$onConnectionCha3===void 0?void 0:_this$onConnectionCha3.call(this,'CLOSED');this.stopPingPong();this.scheduleReconnect();};this.ws.onerror=error=>{var _this$onConnectionCha4;console.error('âŒ WebSocket error:',error);this.isConnecting=false;(_this$onConnectionCha4=this.onConnectionChange)===null||_this$onConnectionCha4===void 0?void 0:_this$onConnectionCha4.call(this,'ERROR');};}startPingPong(){this.pingInterval=setInterval(()=>{var _this$ws;if(((_this$ws=this.ws)===null||_this$ws===void 0?void 0:_this$ws.readyState)===WebSocket.OPEN){this.sendPing();}},30000);}stopPingPong(){if(this.pingInterval){clearInterval(this.pingInterval);this.pingInterval=null;}if(this.pongTimeout){clearTimeout(this.pongTimeout);this.pongTimeout=null;}}sendPing(){var _this$ws2;if(((_this$ws2=this.ws)===null||_this$ws2===void 0?void 0:_this$ws2.readyState)===WebSocket.OPEN){this.ws.send(JSON.stringify({type:'ping'}));this.pongTimeout=setTimeout(()=>{var _this$ws3;console.warn('âš ï¸ No pong received, closing connection');(_this$ws3=this.ws)===null||_this$ws3===void 0?void 0:_this$ws3.close();},10000);}}handlePong(data){console.log('ðŸ“ Received pong:',data.timestamp);if(this.pongTimeout){clearTimeout(this.pongTimeout);this.pongTimeout=null;}}handleActivityData(data){var _data$data,_this$onActivityData;console.log('ðŸ“Š Activity update:',{timestamp:data.timestamp,total_records:data.total_records,users:((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.length)||0});(_this$onActivityData=this.onActivityData)===null||_this$onActivityData===void 0?void 0:_this$onActivityData.call(this,data);}scheduleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){var _this$onConnectionCha5;console.error('ðŸš« Max reconnection attempts reached');(_this$onConnectionCha5=this.onConnectionChange)===null||_this$onConnectionCha5===void 0?void 0:_this$onConnectionCha5.call(this,'FAILED');return;}console.log(\"\\uD83D\\uDD04 Scheduling reconnect in \".concat(this.reconnectInterval,\"ms (attempt \").concat(this.reconnectAttempts+1,\")\"));setTimeout(()=>{this.reconnectAttempts++;this.reconnectInterval=Math.min(this.reconnectInterval*2,this.maxReconnectInterval);this.connect();},this.reconnectInterval);}disconnect(){var _this$onConnectionCha6;this.stopPingPong();if(this.ws){this.ws.close();this.ws=null;}(_this$onConnectionCha6=this.onConnectionChange)===null||_this$onConnectionCha6===void 0?void 0:_this$onConnectionCha6.call(this,'DISCONNECTED');}getConnectionState(){if(!this.ws)return'DISCONNECTED';const states={0:'CONNECTING',1:'OPEN',2:'CLOSING',3:'CLOSED'};return states[this.ws.readyState]||'UNKNOWN';}}const useWebSocket=()=>{const[connectionState,setConnectionState]=useState('DISCONNECTED');const[activityData,setActivityData]=useState([]);const[lastUpdate,setLastUpdate]=useState(null);const[totalRecords,setTotalRecords]=useState(0);const wsRef=useRef(null);const handleActivityData=useCallback(data=>{setActivityData(data.data||[]);setLastUpdate(data.timestamp);setTotalRecords(data.total_records||0);},[]);const handleConnectionChange=useCallback(state=>{setConnectionState(state);},[]);useEffect(()=>{const wsUrl=API_BASE_URL.replace('https://','wss://')+'/ws/activity';const ws=new ToshmiWebSocket(wsUrl,handleActivityData,handleConnectionChange);wsRef.current=ws;return()=>{ws.disconnect();};},[handleActivityData,handleConnectionChange]);useEffect(()=>{const handleBeforeUnload=()=>{var _wsRef$current;(_wsRef$current=wsRef.current)===null||_wsRef$current===void 0?void 0:_wsRef$current.disconnect();};window.addEventListener('beforeunload',handleBeforeUnload);return()=>{window.removeEventListener('beforeunload',handleBeforeUnload);};},[]);return{connectionState,activityData,lastUpdate,totalRecords,isConnected:connectionState==='OPEN',isConnecting:connectionState==='CONNECTING',hasError:['ERROR','FAILED'].includes(connectionState)};};export default useWebSocket;","map":{"version":3,"names":["useEffect","useRef","useState","useCallback","API_BASE_URL","ToshmiWebSocket","constructor","url","onActivityData","onConnectionChange","ws","reconnectAttempts","maxReconnectAttempts","reconnectInterval","maxReconnectInterval","pingInterval","pongTimeout","isConnecting","connect","_this$onConnectionCha","console","log","call","WebSocket","onopen","_this$onConnectionCha2","startPingPong","onmessage","event","data","JSON","parse","type","handlePong","handleActivityData","error","onclose","_this$onConnectionCha3","stopPingPong","scheduleReconnect","onerror","_this$onConnectionCha4","setInterval","_this$ws","readyState","OPEN","sendPing","clearInterval","clearTimeout","_this$ws2","send","stringify","setTimeout","_this$ws3","warn","close","timestamp","_data$data","_this$onActivityData","total_records","users","length","_this$onConnectionCha5","concat","Math","min","disconnect","_this$onConnectionCha6","getConnectionState","states","useWebSocket","connectionState","setConnectionState","activityData","setActivityData","lastUpdate","setLastUpdate","totalRecords","setTotalRecords","wsRef","handleConnectionChange","state","wsUrl","replace","current","handleBeforeUnload","_wsRef$current","window","addEventListener","removeEventListener","isConnected","hasError","includes"],"sources":["/Users/abdulazim/Documents/web_stuff/real-projects/toshmi-admin/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useRef, useState, useCallback } from 'react';\nimport { API_BASE_URL } from '../utils/constants';\n\nclass ToshmiWebSocket {\n  constructor(url, onActivityData, onConnectionChange) {\n    this.url = url;\n    this.ws = null;\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 10;\n    this.reconnectInterval = 1000;\n    this.maxReconnectInterval = 30000;\n    this.pingInterval = null;\n    this.pongTimeout = null;\n    this.isConnecting = false;\n    this.onActivityData = onActivityData;\n    this.onConnectionChange = onConnectionChange;\n    \n    this.connect();\n  }\n\n  connect() {\n    if (this.isConnecting) return;\n    \n    this.isConnecting = true;\n    console.log('ðŸ”Œ Connecting to WebSocket...');\n    this.onConnectionChange?.('CONNECTING');\n    \n    this.ws = new WebSocket(this.url);\n    \n    this.ws.onopen = () => {\n      console.log('âœ… WebSocket connected');\n      this.isConnecting = false;\n      this.reconnectAttempts = 0;\n      this.reconnectInterval = 1000;\n      this.onConnectionChange?.('OPEN');\n      this.startPingPong();\n    };\n\n    this.ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        \n        if (data.type === 'pong') {\n          this.handlePong(data);\n          return;\n        }\n        \n        this.handleActivityData(data);\n        \n      } catch (error) {\n        console.error('âŒ Error parsing WebSocket message:', error);\n      }\n    };\n\n    this.ws.onclose = () => {\n      console.log('âŒ WebSocket disconnected');\n      this.isConnecting = false;\n      this.onConnectionChange?.('CLOSED');\n      this.stopPingPong();\n      this.scheduleReconnect();\n    };\n\n    this.ws.onerror = (error) => {\n      console.error('âŒ WebSocket error:', error);\n      this.isConnecting = false;\n      this.onConnectionChange?.('ERROR');\n    };\n  }\n\n  startPingPong() {\n    this.pingInterval = setInterval(() => {\n      if (this.ws?.readyState === WebSocket.OPEN) {\n        this.sendPing();\n      }\n    }, 30000);\n  }\n\n  stopPingPong() {\n    if (this.pingInterval) {\n      clearInterval(this.pingInterval);\n      this.pingInterval = null;\n    }\n    if (this.pongTimeout) {\n      clearTimeout(this.pongTimeout);\n      this.pongTimeout = null;\n    }\n  }\n\n  sendPing() {\n    if (this.ws?.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify({ type: 'ping' }));\n      \n      this.pongTimeout = setTimeout(() => {\n        console.warn('âš ï¸ No pong received, closing connection');\n        this.ws?.close();\n      }, 10000);\n    }\n  }\n\n  handlePong(data) {\n    console.log('ðŸ“ Received pong:', data.timestamp);\n    \n    if (this.pongTimeout) {\n      clearTimeout(this.pongTimeout);\n      this.pongTimeout = null;\n    }\n  }\n\n  handleActivityData(data) {\n    console.log('ðŸ“Š Activity update:', {\n      timestamp: data.timestamp,\n      total_records: data.total_records,\n      users: data.data?.length || 0\n    });\n    \n    this.onActivityData?.(data);\n  }\n\n  scheduleReconnect() {\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n      console.error('ðŸš« Max reconnection attempts reached');\n      this.onConnectionChange?.('FAILED');\n      return;\n    }\n\n    console.log(`ðŸ”„ Scheduling reconnect in ${this.reconnectInterval}ms (attempt ${this.reconnectAttempts + 1})`);\n    \n    setTimeout(() => {\n      this.reconnectAttempts++;\n      this.reconnectInterval = Math.min(\n        this.reconnectInterval * 2, \n        this.maxReconnectInterval\n      );\n      this.connect();\n    }, this.reconnectInterval);\n  }\n\n  disconnect() {\n    this.stopPingPong();\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n    this.onConnectionChange?.('DISCONNECTED');\n  }\n\n  getConnectionState() {\n    if (!this.ws) return 'DISCONNECTED';\n    \n    const states = {\n      0: 'CONNECTING',\n      1: 'OPEN',\n      2: 'CLOSING', \n      3: 'CLOSED'\n    };\n    \n    return states[this.ws.readyState] || 'UNKNOWN';\n  }\n}\n\nconst useWebSocket = () => {\n  const [connectionState, setConnectionState] = useState('DISCONNECTED');\n  const [activityData, setActivityData] = useState([]);\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const wsRef = useRef(null);\n\n  const handleActivityData = useCallback((data) => {\n    setActivityData(data.data || []);\n    setLastUpdate(data.timestamp);\n    setTotalRecords(data.total_records || 0);\n  }, []);\n\n  const handleConnectionChange = useCallback((state) => {\n    setConnectionState(state);\n  }, []);\n\n  useEffect(() => {\n    const wsUrl = API_BASE_URL.replace('https://', 'wss://') + '/ws/activity';\n    \n    const ws = new ToshmiWebSocket(\n      wsUrl,\n      handleActivityData,\n      handleConnectionChange\n    );\n    \n    wsRef.current = ws;\n\n    return () => {\n      ws.disconnect();\n    };\n  }, [handleActivityData, handleConnectionChange]);\n\n  useEffect(() => {\n    const handleBeforeUnload = () => {\n      wsRef.current?.disconnect();\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    \n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n\n  return {\n    connectionState,\n    activityData,\n    lastUpdate,\n    totalRecords,\n    isConnected: connectionState === 'OPEN',\n    isConnecting: connectionState === 'CONNECTING',\n    hasError: ['ERROR', 'FAILED'].includes(connectionState)\n  };\n};\n\nexport default useWebSocket;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}