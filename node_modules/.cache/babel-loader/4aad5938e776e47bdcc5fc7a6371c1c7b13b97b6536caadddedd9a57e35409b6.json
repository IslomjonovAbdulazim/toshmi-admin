{"ast":null,"code":"import _objectSpread from\"/Users/abdulazim/Documents/web_stuff/real-projects/toshmi-admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/abdulazim/Documents/web_stuff/real-projects/toshmi-admin/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"name\",\"avatarUrl\",\"size\",\"style\"];import React,{useState}from'react';import{API_BASE_URL}from'../../utils/constants';import FullscreenImageModal from'./FullscreenImageModal';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Avatar=_ref=>{let{name,avatarUrl,size=40,style={}}=_ref,props=_objectWithoutProperties(_ref,_excluded);const[showFullscreen,setShowFullscreen]=useState(false);const getInitials=fullName=>{if(!fullName)return'?';const names=fullName.trim().split(' ');if(names.length===1){return names[0].charAt(0).toUpperCase();}const firstName=names[0];const lastName=names[names.length-1];return(firstName.charAt(0)+lastName.charAt(0)).toUpperCase();};const getFullAvatarUrl=avatarPath=>{if(!avatarPath)return null;return\"\".concat(API_BASE_URL).concat(avatarPath);};const baseStyles=_objectSpread({width:\"\".concat(size,\"px\"),height:\"\".concat(size,\"px\"),borderRadius:'50%',border:'2px solid #e5e7eb',display:'flex',alignItems:'center',justifyContent:'center',fontSize:\"\".concat(size*0.4,\"px\"),fontWeight:'600'},style);const avatarStyles=_objectSpread(_objectSpread({},baseStyles),{},{objectFit:'cover',cursor:avatarUrl?'pointer':'default'});const placeholderStyles=_objectSpread(_objectSpread({},baseStyles),{},{backgroundColor:'#f3f4f6',color:'#6b7280'});if(avatarUrl){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",_objectSpread({src:getFullAvatarUrl(avatarUrl),alt:\"\".concat(name,\" avatar\"),style:avatarStyles,onClick:()=>setShowFullscreen(true),onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}},props)),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},placeholderStyles),{},{display:'none'}),children:getInitials(name)}),/*#__PURE__*/_jsx(FullscreenImageModal,{isOpen:showFullscreen,imageUrl:getFullAvatarUrl(avatarUrl),userName:name,onClose:()=>setShowFullscreen(false)})]});}return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({style:placeholderStyles},props),{},{children:getInitials(name)}));};export default Avatar;","map":{"version":3,"names":["React","useState","API_BASE_URL","FullscreenImageModal","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Avatar","_ref","name","avatarUrl","size","style","props","_objectWithoutProperties","_excluded","showFullscreen","setShowFullscreen","getInitials","fullName","names","trim","split","length","charAt","toUpperCase","firstName","lastName","getFullAvatarUrl","avatarPath","concat","baseStyles","_objectSpread","width","height","borderRadius","border","display","alignItems","justifyContent","fontSize","fontWeight","avatarStyles","objectFit","cursor","placeholderStyles","backgroundColor","color","children","src","alt","onClick","onError","e","target","nextSibling","isOpen","imageUrl","userName","onClose"],"sources":["/Users/abdulazim/Documents/web_stuff/real-projects/toshmi-admin/src/components/common/Avatar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { API_BASE_URL } from '../../utils/constants';\nimport FullscreenImageModal from './FullscreenImageModal';\n\nconst Avatar = ({ \n  name, \n  avatarUrl, \n  size = 40, \n  style = {},\n  ...props \n}) => {\n  const [showFullscreen, setShowFullscreen] = useState(false);\n  const getInitials = (fullName) => {\n    if (!fullName) return '?';\n    \n    const names = fullName.trim().split(' ');\n    if (names.length === 1) {\n      return names[0].charAt(0).toUpperCase();\n    }\n    \n    const firstName = names[0];\n    const lastName = names[names.length - 1];\n    \n    return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase();\n  };\n\n  const getFullAvatarUrl = (avatarPath) => {\n    if (!avatarPath) return null;\n    return `${API_BASE_URL}${avatarPath}`;\n  };\n\n  const baseStyles = {\n    width: `${size}px`,\n    height: `${size}px`,\n    borderRadius: '50%',\n    border: '2px solid #e5e7eb',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: `${size * 0.4}px`,\n    fontWeight: '600',\n    ...style\n  };\n\n  const avatarStyles = {\n    ...baseStyles,\n    objectFit: 'cover',\n    cursor: avatarUrl ? 'pointer' : 'default'\n  };\n\n  const placeholderStyles = {\n    ...baseStyles,\n    backgroundColor: '#f3f4f6',\n    color: '#6b7280'\n  };\n\n  if (avatarUrl) {\n    return (\n      <>\n        <img \n          src={getFullAvatarUrl(avatarUrl)} \n          alt={`${name} avatar`}\n          style={avatarStyles}\n          onClick={() => setShowFullscreen(true)}\n          onError={(e) => {\n            e.target.style.display = 'none';\n            e.target.nextSibling.style.display = 'flex';\n          }}\n          {...props}\n        />\n        <div \n          style={{\n            ...placeholderStyles,\n            display: 'none'\n          }}\n        >\n          {getInitials(name)}\n        </div>\n        <FullscreenImageModal\n          isOpen={showFullscreen}\n          imageUrl={getFullAvatarUrl(avatarUrl)}\n          userName={name}\n          onClose={() => setShowFullscreen(false)}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div style={placeholderStyles} {...props}>\n      {getInitials(name)}\n    </div>\n  );\n};\n\nexport default Avatar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}